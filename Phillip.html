<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Phillip</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    text-align: center;
}

.container {
    background: white;
    padding: 25px;
    border-radius: 20px;
    width: 90%;
    max-width: 400px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    animation: fadeIn 1s ease;
}

button {
    width: 100%;
    padding: 15px;
    margin: 10px 0;
    font-size: 16px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
}

.start-btn { background:#ff7a18; color:white; font-size:18px; }
.answer-btn { background:#f0f0f0; }
.correct { background:#4CAF50; color:white; }
.wrong { background:#f44336; color:white; }
.reset-btn { background:#2196F3; color:white; }

#timer {
    font-size: 18px;
    color: #ff0000;
    margin-bottom: 10px;
}

.confetti {
    position: fixed;
    width: 8px;
    height: 8px;
    background: red;
    animation: fall 3s linear infinite;
}

@keyframes fall {
    0% { transform: translateY(-100vh) rotate(0deg); }
    100% { transform: translateY(100vh) rotate(360deg); }
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
</style>
</head>

<body>

<div class="container">

<div id="start">
    <h1>üéâ Happy Birthday Phillip üéâ</h1>
    <button class="start-btn" onclick="startQuiz()">Start</button>
</div>

<div id="quiz" style="display:none;">
    <div id="timer">‚è∞ 60</div>
    <h2 id="question"></h2>
    <div id="answers"></div>
</div>

<div id="end" style="display:none;">
    <h2 id="result"></h2>
    <button id="resetBtn" class="reset-btn" style="display:none;" onclick="resetQuiz()">
        üîÑ Nochmal versuchen
    </button>
</div>

</div>

<!-- Sounds -->
<audio id="soundCorrect">
    <source src="https://www.soundjay.com/buttons/sounds/button-09.mp3">
</audio>
<audio id="soundWrong">
    <source src="https://www.soundjay.com/buttons/sounds/button-10.mp3">
</audio>

<script>
const questions = [
    { question:"Wie alt ist Maxi?", answers:["44","43","33","34"], correct:"44" },
    { question:"Wie viele Tage sind es bis Silvester?", answers:["4","5","6","7"], correct:"5" },
    { question:"Wie viele Tage hat ein Jahr?", answers:["465","365","265","165"], correct:"365" }
];

let currentQuestion = 0;
let score = 0;
let timeLeft = 60;
let timerInterval;

function startQuiz() {
    currentQuestion = 0;
    score = 0;
    document.getElementById("start").style.display = "none";
    document.getElementById("end").style.display = "none";
    document.getElementById("quiz").style.display = "block";
    showQuestion();
}

function showQuestion() {
    resetTimer();
    const q = questions[currentQuestion];
    document.getElementById("question").innerText = q.question;
    const answersDiv = document.getElementById("answers");
    answersDiv.innerHTML = "";

    q.answers.forEach(a => {
        const btn = document.createElement("button");
        btn.innerText = a;
        btn.className = "answer-btn";
        btn.onclick = () => checkAnswer(btn, a);
        answersDiv.appendChild(btn);
    });
}

function checkAnswer(btn, answer) {
    clearInterval(timerInterval);
    const correct = questions[currentQuestion].correct;
    const buttons = document.querySelectorAll(".answer-btn");
    buttons.forEach(b => b.disabled = true);

    if (answer === correct) {
        btn.classList.add("correct");
        document.getElementById("soundCorrect").play();
        score++;
    } else {
        btn.classList.add("wrong");
        document.getElementById("soundWrong").play();
    }

    setTimeout(() => {
        currentQuestion++;
        currentQuestion < questions.length ? showQuestion() : showResult();
    }, 1000);
}

function showResult() {
    document.getElementById("quiz").style.display = "none";
    document.getElementById("end").style.display = "block";
    const result = document.getElementById("result");
    const resetBtn = document.getElementById("resetBtn");

    if (score === questions.length) {
        result.innerText = "üéÅ Du gewinnst eine Massage üéÅ";
        resetBtn.style.display = "none";
        startConfetti();
    } else {
        result.innerText = "üòÖ Leider nicht geschafft ("+score+"/"+questions.length+")";
        resetBtn.style.display = "block";
    }
}

function resetQuiz() {
    clearInterval(timerInterval);
    document.querySelectorAll(".confetti").forEach(c => c.remove());
    startQuiz();
}

function resetTimer() {
    clearInterval(timerInterval);
    timeLeft = 60;
    document.getElementById("timer").innerText = "‚è∞ 60";

    timerInterval = setInterval(() => {
        timeLeft--;
        document.getElementById("timer").innerText = "‚è∞ " + timeLeft;

        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            alert("‚è∞ Zeit abgelaufen! Quiz wird zur√ºckgesetzt.");
            resetQuiz();
        }
    }, 1000);
}

function startConfetti() {
    for (let i = 0; i < 80; i++) {
        const c = document.createElement("div");
        c.className = "confetti";
        c.style.left = Math.random() * 100 + "vw";
        c.style.backgroundColor =
            `hsl(${Math.random()*360},100%,50%)`;
        c.style.animationDuration = (Math.random()*2+2) + "s";
        document.body.appendChild(c);
    }
}
</script>

</body>
</html>
